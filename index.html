<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多板块网页</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }
        .floating-text {
            position: absolute;
            font-size: 24px;
            color: #ff0000;
        }
        .banner {
            width: 100%;
            background-color: #333;
            color: white;
            font-size: 24px;
            white-space: nowrap;
            overflow: hidden;
            position: relative;
            height: 50px;
            display: flex;
            align-items: center;
        }
        .marquee {
            display: inline-block;
            animation: scroll 10s linear infinite;
            padding-right: 100%; /* Adjust this for spacing */
        }
        @keyframes scroll {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(-100%);
            }
        }
        .color-change {
            animation: colorChange 1s infinite;
        }
        @keyframes colorChange {
            0% { color: red; }
            25% { color: blue; }
            50% { color: green; }
            75% { color: orange; }
            100% { color: red; }
        }
        .content {
            padding: 20px;
            text-align: center;
        }
        .image-container {
            margin: 20px 0;
        }
        img {
            max-width: 100%; /* Responsive image */
            height: auto;    /* Maintain aspect ratio */
        }
    </style>
</head>
<body>
    <div class="banner">
        <div class="marquee color-change">欢迎来到莫师父的网页</div>
    </div>
    <div class="content">
        <h1>欢迎</h1>
        <p>这是一个多板块的网页示例。</p>
        <div class="image-container">
            <img src="assets/images/common/pigeon.jpg" alt="描述图片内容">
        </div>
        <div id="json-content"></div>
    </div>
        <div class="floating-text" id="floatingText">我不建了，真不建了</div>
        <script>
        const floatingText = document.getElementById('floatingText');
        let posX = Math.random() * (window.innerWidth - 100); // 随机起始位置
        let posY = Math.random() * (window.innerHeight - 50); // 随机起始位置
        let velocityX = 2; // 水平速度
        let velocityY = 2; // 垂直速度

                    // 页面加载完成后执行
        window.onload = function() {
            // 1. 使用fetch请求JSON文件
            fetch('assets/jsonfile/mainStory.json')
                .then(response => {
                    // 检查请求是否成功
                    if (!response.ok) {
                        throw new Error('网络请求失败，状态码：' + response.status);
                    }
                    return response.json(); // 解析JSON数据
                })
                .then(data => {
                    // 2. 获取显示内容的容器
                    const container = document.getElementById('json-content');
                    
                    // 3. 将JSON数据转换为可读字符串（或自定义展示逻辑）
                    container.innerHTML = JSON.stringify(data, null, 2); // 美化输出
                    
                    // 可选：如果你知道JSON结构，可以更友好地展示内容
                    // 例如：container.innerHTML = data.title + ": " + data.description;
                })
                .catch(error => {
                    console.error('加载JSON时出错:', error);
                    document.getElementById('json-content').innerHTML = "加载故事失败，请检查控制台。";
                });
        };
            
        function updatePosition() {
            posX += velocityX;
            posY += velocityY;

            // 检查是否碰到边缘
            if (posX + floatingText.offsetWidth >= window.innerWidth || posX < 0) {
                velocityX = -velocityX; // 反转水平速度
            }
            if (posY + floatingText.offsetHeight >= window.innerHeight || posY < 0) {
                velocityY = -velocityY; // 反转垂直速度
            }

            // 更新文字位置
            floatingText.style.left = posX + 'px';
            floatingText.style.top = posY + 'px';

            requestAnimationFrame(updatePosition); // 循环调用
        }

        // 启动动画
        updatePosition();
    </script>
    
</body>
</html>
